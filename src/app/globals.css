@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Design Tokens - Typography Scale */
  --text-xs: 0.75rem;
  /* 12px */
  --text-sm: 0.875rem;
  /* 14px */
  --text-base: 0.9375rem;
  /* 15px - body text */
  --text-lg: 1.125rem;
  /* 18px - section titles */
  --text-xl: 1.25rem;
  /* 20px - page titles */
  --text-2xl: 1.5rem;
  /* 24px - hero titles */

  /* Design Tokens - Spacing Scale */
  --space-1: 0.25rem;
  /* 4px */
  --space-2: 0.5rem;
  /* 8px */
  --space-3: 0.75rem;
  /* 12px */
  --space-4: 1rem;
  /* 16px */
  --space-6: 1.5rem;
  /* 24px */
  --space-8: 2rem;
  /* 32px */

  /* Design Tokens - Border Radius */
  --radius-sm: 0.5rem;
  /* 8px */
  --radius-md: 0.75rem;
  /* 12px */
  --radius-lg: 1rem;
  /* 16px */
  --radius-xl: 1.25rem;
  /* 20px */

  /* Design Tokens - Colors - Primary (Brand) */
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;

  /* Design Tokens - Colors - Neutral */
  --color-neutral-50: #f9fafb;
  --color-neutral-100: #f3f4f6;
  --color-neutral-200: #e5e7eb;
  --color-neutral-500: #6b7280;
  --color-neutral-600: #4b5563;
  --color-neutral-700: #374151;
  --color-neutral-900: #111827;

  /* Design Tokens - Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  font-size: var(--text-base);
  line-height: 1.6;
}

/* Mapbox controls styling */
.mapboxgl-ctrl-group {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(10px);
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

.mapboxgl-ctrl-group button {
  background: transparent !important;
  border: none !important;
  color: #374151 !important;
  font-weight: 600 !important;
}

.mapboxgl-ctrl-group button:hover {
  background: rgba(59, 130, 246, 0.1) !important;
  color: #3b82f6 !important;
}

.mapboxgl-ctrl-group button:focus {
  outline: 2px solid #3b82f6 !important;
  outline-offset: 2px !important;
}

/* Position mapbox controls to avoid search bar */
.mapboxgl-ctrl-top-right {
  top: 20px !important;
  right: 20px !important;
}

.mapboxgl-ctrl-bottom-right {
  bottom: 20px !important;
  right: 20px !important;
}

/* User location marker animations and stability */
.user-location-marker {
  animation: pulse 2s infinite;
  will-change: box-shadow;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  transform-origin: center center;
  transition: transform 0.2s ease;
}

.user-location-marker * {
  pointer-events: none;
  /* Prevent child elements from interfering */
}

.user-location-marker:hover {
  animation-play-state: paused;
  /* Pause pulse on hover */
  transform: scale(1.1);
  transform-origin: center center;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
  }
}

/* Marker selection animation */
@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 0.8;
  }

  50% {
    transform: scale(1.1);
    opacity: 0.3;
  }

  100% {
    transform: scale(0.8);
    opacity: 0.8;
  }
}

/* Ensure mapbox markers don't flicker */
.mapboxgl-marker {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
}

/* Specific fixes for user location marker */
.mapboxgl-marker .user-location-marker {
  position: relative !important;
  left: 0 !important;
  top: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* MapPin animations */
@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }

  50% {
    transform: scale(1);
    opacity: 0.6;
  }

  100% {
    transform: scale(1.2);
    opacity: 0;
  }
}

/* Ensure crisp image rendering on high DPI */
.photo-pin img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Sign-in page animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glow {

  0%,
  100% {
    box-shadow: 0 0 20px rgba(255, 107, 107, 0.3),
      0 0 40px rgba(255, 142, 83, 0.2);
  }

  50% {
    box-shadow: 0 0 30px rgba(255, 107, 107, 0.5),
      0 0 60px rgba(255, 142, 83, 0.3);
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }

  50% {
    transform: translateY(-20px) rotate(5deg);
  }
}

@keyframes bounce-slow {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-20px);
  }
}

.animate-fade-in {
  animation: fade-in 0.6s ease-out forwards;
}

.animate-slide-up {
  animation: slide-up 0.8s ease-out forwards;
}

.animate-glow {
  animation: glow 3s ease-in-out infinite;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-bounce {
  animation: bounce-slow 3s ease-in-out infinite;
}

.delay-100 {
  animation-delay: 0.1s;
}

.delay-300 {
  animation-delay: 0.3s;
}

.delay-500 {
  animation-delay: 0.5s;
}